<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- Bootstrap -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
     <!-- Icon -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
     <title>All Students</title>
</head>
<body>

     <div class="tabbles">
          <table class="table">
               <thead>
                    <tr>
                         <th scope="col">Profile</th>
                         <th scope="col">Fullname</th>
                         <th scope="col">Email</th>
                         <th scope="col">Matric Number</th>
                         <th scope="col">Faculty</th>
                         <th scope="col">Admission Type</th>
                         <th scope="col">Date of Birth</th>
                         <th scope="col">Year of Admission</th>
                    </tr>
               </thead>
               <tbody class="datalist">
                    
               </tbody>
          </table>
     </div>
     
     

     <!-- Font Awsome Link -->
     <script src="https://kit.fontawesome.com/2a49fbdbb8.js" crossorigin="anonymous"></script>
     <!-- Bootstrap Js -->
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
     <!-- AXIOS JS -->
     <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
     <script>
          let apiUrl = "/api/v1/auth/users";
          let datalist = document.querySelector('.datalist')
          axios.get(apiUrl)
          .then((response) => {
               let data = response.data;
               console.log(data)
               data.forEach(data => {
                    datalist.innerHTML +=`
                    <tr>
                         <td class=""><img src="${data.photo}" width="50px" height="50px"></td>
                         <td class="">${data.firstName} ${data.lastName}</td>
                         <td class="">${data.email}</td>
                         <td class="">${data.matricNumber}</td>
                         <td class="">${data.studyType}</td>
                         <td class="">${data.programType}</td>
                         <td class="">${new Date(data.birthDate).toLocaleDateString()}</td>
                         <td class="">${data.admissionYear}</td>
                    </tr>
                    `
               })
          })
          .catch((error) => {
               console.log(error);
          })
     </script>
</body>
</html>